package com.rf1m.util;

import com.rf1m.web.image2css.Parameters.SupportedImageTypes;
import org.junit.Test;

import java.io.File;
import java.net.URL;
import java.util.HashSet;
import java.util.Set;

import static junit.framework.Assert.assertEquals;

public class TestFileUtils {
	String b64Bytes = "iVBORw0KGgoAAAANSUhEUgAAAF8AAABOCAIAAADJpF2cAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAEJ0RVh0Q29tbWVudABDUkVBVE9SOiBnZC1qcGVnIHYxLjAgKHVzaW5nIElKRyBKUEVHIHY2MiksIHF1YWxpdHkgPSAxMDAKu3x3owAAJbhJREFUeF6V3HXcNlW1xnERxEKxscXGBLsAUcRAsQvjiGIeLAxUUsEjUhaIhXkAW1ABW2zFblLhKGBzbIkD+vX9vZ/9zjP3DUfnj/nMPbNnz17Xuta11t4zz7PW3//+94td7GL2a621loN/cft32+v2ggsuGI/o9vHz/PPPHz87qYH2DtZee+1GOB3e9OldnTXoXpfc3sGswb9qcuOwOei4g+k2vTqOmeS4/XT729/+dvbZZzt/7rnn2p9zzjnnnXfeH/7wB23+b9Xm5J/+9CcHmtl+/etfa6mN487Xp5O20bOT2ozHOWhrDI28g3FJV8OomV1LzVxE4J8uvQhcFpEajcdQ9AARQ7ex58wzz/zjH//Yz9///venn366g7/85S9gCrJf/epXwHISLs5r85vf/AY0Ttp++ctfauMp9emufoYOg3vKDJ1ADA6XgrgRTq0bWE/PXwRS/2TdbFvsdHCqjvJSA/3hD3/IwjPOOIN5J5544mmnncY8iPz0pz89+eSTf/7znzv/P6s2ELjld7/73Xe+8x0/v/jFL2pw9NFHO+Pn/67aYAHZv/71r+ESuX7wgx+Aw+2eq0OoBYRHuDfetR+8m/l7DHtG80VazJBags5SNk0DCjQMMBRY8D84oHPCCSd85jOfYfP3v//9L3zhC5/61Kc+//nPO/j0pz/9zW9+E3AgA+X3vvc9x6eccsqPf/zjo446yiVGuuT2b3/72z/72c9g56QbRRlanXXWWT/60Y88nfGagcOjPeW/Vm2vetWrXvnKVz796U/fddddDz744MGaUBhOLQAHCWa0urD4cH45OlOMpyTUL6ZwJj/z/C9+8QumHn/88Wzj0j//+c/Gfcwxx3z961//1re+9bnPfQ413v3ud3/kIx9xJgjcoj1EAAoOUPrpqp9QQI2f/OQnJ510EuKE8nHHHQdfz+2hNpA99alP3XHHHcFx17vedZNNNrnvfe97s5vd7IY3vOEznvEMXQ0ZmorOVKFGVAbfFMcZUquzw7TROJ7dHJ/58Bvf+Ab+cz44ECeHf+lLXzIyBn/1q1/95Cc/+fGPfxw62gACZUDAWlc/+9nPaqA9pD7xiU+8973vBR8odUKPnITCscce616X/nvV5hYM1Y82hOkOd7jDVa5ylWc+85nPfvazH/CAB9z0pjeFzpOe9KTLXe5yG2+8sfNGOLR5qgOQHRjFsv9Xcy8qsgY607gNCwAx6YgjjuBY9nzwgx/kZCYx2PbRj37U3nltbCLOLbB717ve9Z73vAeVDjvsMPc60A+wbH46eeihh2qgN2c+/OEPQ/l973sfH+ALf4D4Rje60TWvec0rXvGK17nOdW51q1tJ89e+9rWvcY1rXOYyl1lvvfU22mijhz/84fZuoURDpCOLPodaD91clO0pfVagM9OkkJ4qjrAiB0SU4jAbX1hOXz7wgQ+kLyILBb72ta8deeSRRiM0wAQ4doLsTW9602te8xoQoAPjDzroIHqx3377aQBKXYEGlbr61re+FUzaeNbhhx8OoEc84hFQuPSlL61aucQlLnHJS17y4he/+JWudKWb3/zmYFp33XVvd7vbXf/617/61a++6aabomFZskADlpg1fkI2sl5gTeH4N1R51As9w50cKHfwIWPsmWETCOKIxLz//e8HGZrACDT2IgtBHOCFAwaz/w1veIO9wGHzhz70oRe84AVQe93rXvfmN78Z0BAv9D72sY/p8+1vf7uT73jHOzjg3ve+93Wve124QOcGN7jBBhtssOGGG8Llspe9rGOF35ZbbulArBGjt7zlLdVHjZyWEQFjMEJIAW6p3MzRmf6eMmURUckVIiJLAJMSQ2chItjLPgx+5zvfyU7717/+9W9729te8YpXvPrVrwYZFFBJe/svf/nLOLLnnnvKOAxwI3LZa4Z6b3zjG/UAcWbUOfognfiiMmJnm222gZGwus997iOm7AGxzjrr3P/+94fR+uuvf/nLX54A3frWt9Z/hVJGcY/HoTBeQ43bnJzp92LyWqI7S6sAnKSpZAJjKQgjocB4zLcXLyBgib2chU0sZDBqaCZYNHNJAobaHnvs8bKXvWz//fdPaDDFiEnSvvvuC9Cddtppt912c6xPSIFGb0gHC5S5293uds973pMwP+c5z3nK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";
	
	@Test
	public void testGetExtension() throws Exception{
		final URL url1 = this.getClass().getResource("/small_boy_with_book.png");
		final URL url2 = this.getClass().getResource("/boy_with_book.gif");
		final URL url3 = this.getClass().getResource("/boy_with_book.jpg");
		final URL url4 = this.getClass().getResource("/boy_with_book.png");
		
		assertEquals("png",FileUtils.getExtension(url1.getFile()));
		assertEquals("gif",FileUtils.getExtension(url2.getFile()));
		assertEquals("jpg",FileUtils.getExtension(url3.getFile()));
		assertEquals("png",FileUtils.getExtension(url4.getFile()));
	} 
	
	@Test
	public void testGetFileBytes() throws Exception{
		final URL url = this.getClass().getResource("/small_boy_with_book.png");
		final byte[] bytes = FileUtils.getFileBytes(new File(url.getFile()));

		assertEquals(b64Bytes, ByteUtils.base64EncodeBytes(bytes));
	}
	
	@Test
	public void testGetImagesForConversion() throws Exception{
		final Set<SupportedImageTypes> png = new HashSet<SupportedImageTypes>();
		png.add(SupportedImageTypes.png);
		
		final Set<SupportedImageTypes> gif = new HashSet<SupportedImageTypes>();
		gif.add(SupportedImageTypes.gif);
		
		final Set<SupportedImageTypes> jpg = new HashSet<SupportedImageTypes>();
		jpg.add(SupportedImageTypes.jpg);
		
		final Set<SupportedImageTypes> jpgPng = new HashSet<SupportedImageTypes>();
		jpgPng.add(SupportedImageTypes.jpg);
		jpgPng.add(SupportedImageTypes.png);
		
		final URL url = this.getClass().getResource("/");
		final File dir = new File(url.getFile());
		
		assertEquals(4, FileUtils.getImagesForConversion(dir, null).length);
		assertEquals(2, FileUtils.getImagesForConversion(dir, png).length);
		assertEquals(1, FileUtils.getImagesForConversion(dir, gif).length);
		assertEquals(1, FileUtils.getImagesForConversion(dir, jpg).length);
		assertEquals(3, FileUtils.getImagesForConversion(dir, jpgPng).length);
	}
	
}
